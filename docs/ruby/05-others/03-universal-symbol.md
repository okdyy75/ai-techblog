# Universal Symbol: Ruby 3.3での変更点

## はじめに
Ruby 3.3では、Symbolの挙動に重要な変更が加えられました。すべてのSymbolが不変（immutable）かつfrozenとして扱われるようになり、これを「Universal Symbol」と呼びます。

## 変更の背景
従来、`"string".to_sym` のように動的に生成されたSymbolはガベージコレクションの対象でしたが、パフォーマンス上の懸念がありました。この変更により、すべてのSymbolが静的なものと同様に扱われ、メモリ管理が単純化されます。

## 主な変更点
- `String#to_sym` で生成されたSymbolもfrozenになります。
- すべてのSymbolが不変であるため、`Symbol#freeze` は常に `self` を返します。
- Symbolのガベージコレクションがなくなり、パフォーマンスが向上する可能性があります。

## 注意点
この変更により、Symbolをミュータブルなオブジェクトとして扱っていたコードは動作しなくなる可能性があります。ただし、そのような使い方は一般的ではありません。

## まとめ
Universal Symbolは、Rubyの内部実装をよりシンプルで堅牢にするための重要な変更です。ほとんどの開発者にとっては透過的ですが、この変更を理解しておくことは重要です。
